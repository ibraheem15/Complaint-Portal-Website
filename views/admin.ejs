<%- include("partials/header1"); -%>

<body>
  <!-- Displaying Complaints -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1 class="text-center">Complaints</h1>
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col" class="idd">Complaint ID</th>
              <th scope="col" class="names">First Name</th>
              <th scope="col" class="names">Last Name</th>
              <th scope="col" class="broken">Email</th>
              <th scope="col" class="broken">Phone</th>
              <th scope="col" class="dates">Date</th>
              <th scope="col">City</th>
              <th scope="col" class="long">Person(s) Involved</th>
              <th scope="col" class="long">Relevant Information</th>
              <th scope="col" class="sigma">Signature</th>
              <th scope="col" ></th>
            </tr>
          </thead>
          <tbody>
            <% complaints.forEach(function(complaint){ %>
            <tr>
              <th scope="row" class="idd"><%= complaint._id %></th>
              <td><%= complaint.FirstName %></td>
              <td><%= complaint.LastName %></td>
              <td><%= complaint.Email %></td>
              <td><%= complaint.Phone %></td>
              <td><%= complaint.Date %></td>
              <td><%= complaint.CityName %></td>
              <td><%= complaint.PersonInvolved %></td>
              <td><%= complaint.Relevent_Information %></td>
              <td><%= complaint.Signature %></td>

              <td class="delete">
                <form action="/delete" method="post">
                  <button
                    name="DeleteComplaint"
                    class="btn btn-danger"
                    type="submit"
                    value="<%= complaint._id %>"
                  >
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <!-- Logout -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <form action="/logout" method="POST">
          <button type="submit" class="btn btn-danger">Logout</button>
        </form>
      </div>
    </div>
  </div>
</body>

<style>
  table tr:hover {
    background-color: rgb(137, 201, 192);
    overflow: visible;
    white-space: normal;
    height: auto;
  }
  table td,
  table th {
    height: 50px;
    max-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    word-break: keep-all;
    word-wrap: break-word;
    white-space: nowrap;
    border: 1px solid #c8c8c8;
    text-align: left;
    padding: 10px;
  }

  tr > td:hover {
    overflow: visible;
    white-space: unset;
  }
  .idd {
    max-width: 60px;
  }
  .names {
    max-width: 28px;
  }

  .long {
    max-width: 40px;
  }
  .delete {
    max-width: 20px;
  }
  .table-striped {
    /* set size of table */
    width: 1350px;
    margin-left: -20px;
  }
  .sigma {
    max-width: 30px;
  }
  .broken {
    -ms-word-break: break-all; /* Be VERY careful with this, breaks normal words wh_erever */
    word-break: break-all; /* Non standard for webkit */
    -webkit-hyphens: auto;
    -moz-hyphens: auto;
    hyphens: auto;
    max-width: 20px;
  }
</style>

<script></script>
<%- include("partials/footer"); -%>
